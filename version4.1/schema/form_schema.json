{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Onboarding Form Schema",
  "description": "Hierarchical structure for LLM-based test case generation",
  "version": "1.0",

  "pages": [
    {
      "id": "contact_info",
      "name": "Contact Info",
      "group": "Personal Information",
      "order": 1,
      "sections": [
        {
          "id": "basic_info",
          "name": "Basic Information",
          "fields": [
            {
              "id": "firstName",
              "type": "text",
              "required": true,
              "strategy": "id",
              "xpath": "//*[@id=\"firstName\"]",
              "validations": ["non_empty", "alpha_only"],
              "example_values": ["JOHN", "PRAKYATH", "MARIA"]
            },
            {
              "id": "middleName",
              "type": "text",
              "required": false,
              "strategy": "id",
              "xpath": "//*[@id=\"middleName\"]",
              "example_values": ["M", "A", ""]
            },
            {
              "id": "lastName",
              "type": "text",
              "required": true,
              "strategy": "id",
              "xpath": "//*[@id=\"lastName\"]",
              "validations": ["non_empty", "alpha_only"],
              "example_values": ["DOE", "CHANDRAN", "SMITH"]
            },
            {
              "id": "email",
              "type": "email",
              "required": true,
              "strategy": "id",
              "xpath": "//*[@id=\"email\"]",
              "validations": ["email_format"],
              "example_values": ["test@gmail.com", "user@example.com"]
            },
            {
              "id": "mobileNumber",
              "type": "phone",
              "required": true,
              "strategy": "id",
              "xpath": "//*[@id=\"mobileNumber\"]",
              "format": "XXX-XXXX",
              "example_values": ["234-5432", "567-8901"]
            }
          ]
        },
        {
          "id": "branch_selection",
          "name": "Branch Selection",
          "fields": [
            {
              "id": "selectBranch",
              "type": "dropdown",
              "required": true,
              "strategy": "data-testid",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\"]",
              "options": [
                {"value": "100 - TECU - MARABELLA BRANCH", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "101 - TECU - PORT OF SPAIN", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "102 - TECU - SAN FERNANDO", "xpath": "//*[@data-testid=\"option-2\"]"}
              ]
            }
          ]
        },
        {
          "id": "profile_picture",
          "name": "Profile Picture",
          "fields": [
            {
              "id": "addProfilePicture",
              "type": "button",
              "strategy": "data-testid+text",
              "xpath": "//*[@data-testid=\"button\" and contains(., \"Add profile picture\")]"
            },
            {
              "id": "fileUpload",
              "type": "file",
              "strategy": "id",
              "xpath": "//*[@id=\"file-upload\"]",
              "accepted_formats": [".png", ".jpg", ".jpeg"]
            }
          ]
        },
        {
          "id": "otp_verification",
          "name": "OTP Verification",
          "trigger": "after_save_continue",
          "fields": [
            {
              "id": "otpInputs",
              "type": "otp",
              "length": 6,
              "strategy": "id",
              "xpath_pattern": "//*[@id=\"otp-input-{index}\"]",
              "example_values": ["121212", "123456"]
            },
            {
              "id": "verifyOtp",
              "type": "button",
              "strategy": "data-testid",
              "xpath": "//*[@data-testid=\"submit-button\"]"
            }
          ]
        }
      ],
      "navigation": {
        "save_continue": {
          "strategy": "data-testid+text",
          "xpath": "//*[@data-testid=\"button\" and contains(., \"Save & Continue\")]"
        }
      }
    },

    {
      "id": "documents",
      "name": "Documents",
      "group": "Documents",
      "order": 2,
      "sections": [
        {
          "id": "primary_id",
          "name": "Primary Identification",
          "fields": [
            {
              "id": "primaryIdType",
              "type": "dropdown",
              "required": true,
              "strategy": "data-testid",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\"]",
              "options": [
                {
                  "value": "Passport",
                  "xpath": "//*[@data-testid=\"option-0\"]",
                  "triggers_fields": ["upload-front-input"]
                },
                {
                  "value": "National Identification Card",
                  "xpath": "//*[@data-testid=\"option-1\"]",
                  "triggers_fields": ["upload-front-input", "upload-back-input"]
                },
                {
                  "value": "Driver's Permit",
                  "xpath": "//*[@data-testid=\"option-2\"]",
                  "triggers_fields": ["upload-front-input", "upload-back-input"]
                }
              ]
            },
            {
              "id": "upload-front-input",
              "type": "file",
              "strategy": "id",
              "xpath": "//*[@id=\"upload-front-input\"]",
              "conditional": "always_when_id_selected"
            },
            {
              "id": "upload-back-input",
              "type": "file",
              "strategy": "id",
              "xpath": "//*[@id=\"upload-back-input\"]",
              "conditional": "only_for_NIC_or_DP"
            }
          ]
        },
        {
          "id": "secondary_id",
          "name": "Secondary Identification",
          "fields": [
            {
              "id": "secondaryIdType",
              "type": "dropdown",
              "required": true,
              "inherits_structure_from": "primaryIdType",
              "note": "Same options as primary, but different instance"
            }
          ]
        },
        {
          "id": "utility_document",
          "name": "Utility Document / Address Proof",
          "fields": [
            {
              "id": "utilityDocType",
              "type": "dropdown",
              "required": true,
              "options": [
                {"value": "FLOW BILL", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "WASA BILL", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "TTEC BILL", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "BANK STATEMENT", "xpath": "//*[@data-testid=\"option-3\"]"}
              ]
            },
            {
              "id": "mailingCity",
              "type": "text",
              "required": true,
              "strategy": "id",
              "xpath": "//*[@id=\"mailingCity\"]"
            }
          ]
        },
        {
          "id": "address_section",
          "name": "Address Information",
          "fields": [
            {
              "id": "permanentAddressSameAsMailing",
              "type": "boolean",
              "required": true,
              "strategy": "absolute",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[2]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[2]/div[1]/label[2]/input[1]",
              "conditional_fields_when_false": [
                "permanentAddressLine1",
                "permanentAddressLine2",
                "permanentCity",
                "permanentCountry",
                "permanentZipCode"
              ]
            },
            {
              "id": "permanentAddressLine1",
              "type": "text",
              "conditional": {"when": "permanentAddressSameAsMailing", "equals": false},
              "strategy": "id",
              "xpath": "//*[@id=\"permanentAddressLine1\"]"
            },
            {
              "id": "permanentAddressLine2",
              "type": "text",
              "conditional": {"when": "permanentAddressSameAsMailing", "equals": false},
              "strategy": "id",
              "xpath": "//*[@id=\"permanentAddressLine2\"]"
            },
            {
              "id": "permanentCity",
              "type": "text",
              "conditional": {"when": "permanentAddressSameAsMailing", "equals": false},
              "strategy": "id",
              "xpath": "//*[@id=\"permanentCity\"]"
            },
            {
              "id": "permanentCountry",
              "type": "dropdown",
              "conditional": {"when": "permanentAddressSameAsMailing", "equals": false},
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Choose Country\")]"
            },
            {
              "id": "permanentZipCode",
              "type": "text",
              "conditional": {"when": "permanentAddressSameAsMailing", "equals": false},
              "strategy": "id",
              "xpath": "//*[@id=\"permanentZipCode\"]"
            }
          ]
        },
        {
          "id": "utility_doc_option",
          "name": "Utility Document Option",
          "fields": [
            {
              "id": "utilityDocOption",
              "type": "boolean",
              "description": "Is utility document in applicant's name?",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[3]/div[2]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[3]/div[2]/div[1]/label[2]/input[1]",
              "conditional_fields_when_false": [
                "upload-authorization",
                "upload-person-id"
              ]
            }
          ]
        }
      ],
      "navigation": {
        "continue": {
          "strategy": "data-testid",
          "xpath": "//*[@data-testid=\"continue-button\"]"
        },
        "save_continue": {
          "strategy": "data-testid",
          "xpath": "//*[@data-testid=\"save-and-continue-button\"]"
        }
      }
    },

    {
      "id": "additional_details",
      "name": "Additional Details",
      "group": "Additional Details",
      "order": 3,
      "sections": [
        {
          "id": "employment",
          "name": "Employment Information",
          "fields": [
            {
              "id": "employmentStatus",
              "type": "dropdown",
              "required": true,
              "xpath_trigger": "//*[@data-testid=\"dropdown-text\" and contains(., \"Select Employment Status\")]",
              "options": [
                {"value": "FULL TIME PERMANENT", "xpath": "//*[@data-testid=\"option-0\"]", "shows_employer_fields": true},
                {"value": "FULL TIME TEMPORARY", "xpath": "//*[@data-testid=\"option-1\"]", "shows_employer_fields": true},
                {"value": "OTHER", "xpath": "//*[@data-testid=\"option-2\"]", "shows_employer_fields": false},
                {"value": "PART TIME", "xpath": "//*[@data-testid=\"option-3\"]", "shows_employer_fields": true},
                {"value": "RETIRED NON PENSIONED", "xpath": "//*[@data-testid=\"option-4\"]", "shows_employer_fields": false},
                {"value": "RETIRED PENSIONED", "xpath": "//*[@data-testid=\"option-5\"]", "shows_employer_fields": false},
                {"value": "SELF EMPLOYED", "xpath": "//*[@data-testid=\"option-6\"]", "shows_employer_fields": false, "shows_self_employed_fields": true},
                {"value": "UNEMPLOYED", "xpath": "//*[@data-testid=\"option-7\"]", "shows_employer_fields": false}
              ]
            },
            {
              "id": "employer",
              "type": "dropdown",
              "conditional": {"when": "employmentStatus", "in": ["FULL TIME PERMANENT", "FULL TIME TEMPORARY", "PART TIME"]},
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Select Employer\")]",
              "options": [
                {"value": "ABT ENGINEERS & CONSTRUCTORS L", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "ACE CONTRACTORS LIMITED", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "ACELORMITTAL", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "AGOSTINI'S LIMITED", "xpath": "//*[@data-testid=\"option-3\"]"}
              ],
              "note": "Many more employers exist - this is a sample"
            },
            {
              "id": "occupation",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"occupation\"]",
              "example_values": ["ENGINEER", "TEACHER", "ACCOUNTANT", "MANAGER"]
            },
            {
              "id": "sector",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Choose sector\")]",
              "options": [
                {"value": "OTHERS", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "PRIVATE SECTOR", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "PUBLIC SECTOR", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "SELF EMPLOYED", "xpath": "//*[@data-testid=\"option-3\"]"}
              ]
            },
            {
              "id": "employmentType",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Choose Employment Type\")]",
              "options": [
                {"value": "Agricultural", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "Financial", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "Production/Manufacturing", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "Professional/Technical", "xpath": "//*[@data-testid=\"option-3\"]"},
                {"value": "Service", "xpath": "//*[@data-testid=\"option-4\"]"}
              ]
            }
          ]
        },
        {
          "id": "employer_address",
          "name": "Employer Address",
          "conditional": {"when": "employmentStatus", "in": ["FULL TIME PERMANENT", "FULL TIME TEMPORARY", "PART TIME"]},
          "fields": [
            {
              "id": "employerAddressLine1",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"employerAddressLine1\"]"
            },
            {
              "id": "employerAddressLine2",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"employerAddressLine2\"]"
            },
            {
              "id": "employerCity",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"employerCity\"]"
            },
            {
              "id": "employerCountry",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Choose Country\")]"
            },
            {
              "id": "workPhoneNo",
              "type": "phone",
              "strategy": "id",
              "xpath": "//*[@id=\"workPhoneNo\"]"
            }
          ]
        },
        {
          "id": "income",
          "name": "Income Information",
          "fields": [
            {
              "id": "salaryRange",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Choose an option\")]",
              "options": [
                {"value": "$12,001-$17,000", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "$17,001-$22,000", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "$22,001-$27,000", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "$5,001-$12,000", "xpath": "//*[@data-testid=\"option-3\"]"},
                {"value": "OVER $27,000", "xpath": "//*[@data-testid=\"option-4\"]"},
                {"value": "UNDER $5,000", "xpath": "//*[@data-testid=\"option-5\"]"}
              ]
            },
            {
              "id": "salaryFrequency",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Salary Frequency\")]",
              "options": [
                {"value": "ANNUALLY", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "BIWEEKLY", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "DAILY", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "FORTNIGHTLY", "xpath": "//*[@data-testid=\"option-3\"]"},
                {"value": "HOURLY", "xpath": "//*[@data-testid=\"option-4\"]"},
                {"value": "MONTHLY", "xpath": "//*[@data-testid=\"option-5\"]"},
                {"value": "QUARTERLY", "xpath": "//*[@data-testid=\"option-6\"]"}
              ]
            },
            {
              "id": "salary",
              "type": "currency",
              "strategy": "name",
              "xpath": "//input[@name=\"salary\"]",
              "format": "$ X,XXX.XX"
            },
            {
              "id": "accountFunded",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Account Funded\")]",
              "options": [
                {"value": "Via Salary", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "Others", "xpath": "//*[@data-testid=\"option-1\"]"}
              ]
            }
          ]
        },
        {
          "id": "nationality_birth",
          "name": "Nationality and Birth",
          "fields": [
            {
              "id": "nationalOfTTPrimary",
              "type": "boolean",
              "description": "Is applicant a national of Trinidad and Tobago?",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[1]/div[1]/label[2]/input[1]"
            },
            {
              "id": "placeOfBirth",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"placeOfBirth\"]"
            },
            {
              "id": "countryOfBirth",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Country of birth\")]"
            },
            {
              "id": "nationalOfTTSecondary",
              "type": "boolean",
              "description": "Secondary nationality confirmation"
            }
          ]
        },
        {
          "id": "personal_details",
          "name": "Personal Details",
          "fields": [
            {
              "id": "maritalStatus",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Marital Status\")]",
              "options": [
                {"value": "SINGLE", "xpath": "//*[@data-testid=\"option-5\"]"},
                {"value": "MARRIED", "xpath": "//*[@data-testid=\"option-3\"]"},
                {"value": "DIVORCED", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "WIDOWED", "xpath": "//*[@data-testid=\"option-6\"]"},
                {"value": "COMMON LAW", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "SEPARATED", "xpath": "//*[@data-testid=\"option-4\"]"}
              ]
            },
            {
              "id": "highestEducation",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-text\" and contains(., \"Highest Level of Education\")]",
              "options": [
                {"value": "POSTGRADUATE DEGREE", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "UNDERGRADUATE DEGREE", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "SECONDARY", "xpath": "//*[@data-testid=\"option-2\"]"},
                {"value": "PRIMARY", "xpath": "//*[@data-testid=\"option-3\"]"}
              ]
            },
            {
              "id": "communicationMethod",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Communication Method\")]",
              "options": [
                {"value": "Email", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "SMS", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "Phone", "xpath": "//*[@data-testid=\"option-2\"]"}
              ]
            },
            {
              "id": "memberOfOtherCreditUnion",
              "type": "boolean",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[2]/div[1]/div[6]/div[1]/div[2]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[2]/div[1]/div[6]/div[1]/div[2]/div[1]/label[2]/input[1]"
            }
          ]
        }
      ]
    },

    {
      "id": "other_products",
      "name": "Other Products",
      "group": "Other Products",
      "order": 4,
      "sections": [
        {
          "id": "beneficiary_section",
          "name": "Beneficiary",
          "repeatable": true,
          "min_instances": 0,
          "max_instances": 5,
          "fields": [
            {
              "id": "hasBeneficiary",
              "type": "boolean",
              "description": "Does applicant want to add beneficiaries?",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/label[2]/input[1]",
              "triggers_section_when_true": "beneficiary_details"
            }
          ],
          "repeatable_fields": {
            "id_prefix": "beneficiary",
            "fields": [
              {
                "id": "documentType",
                "type": "radio",
                "options": ["BENEFICIARY-NIC", "BENEFICIARY-DP", "BENEFICIARY-PASSPORT"]
              },
              {
                "id": "beneficiaryMobileNo",
                "type": "phone",
                "strategy": "id",
                "xpath": "//*[@id=\"beneficiaryMobileNo\"]"
              },
              {
                "id": "beneficiaryRelation",
                "type": "dropdown",
                "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Select relation\")]",
                "options": [
                  {"value": "Brother", "xpath": "//*[@data-testid=\"option-0\"]"},
                  {"value": "Son", "xpath": "//*[@data-testid=\"option-1\"]"},
                  {"value": "Daughter", "xpath": "//*[@data-testid=\"option-2\"]"},
                  {"value": "Spouse", "xpath": "//*[@data-testid=\"option-3\"]"},
                  {"value": "Parent", "xpath": "//*[@data-testid=\"option-4\"]"}
                ]
              },
              {
                "id": "upload-input",
                "type": "file",
                "strategy": "id",
                "xpath": "//*[@id=\"upload-input\"]"
              }
            ]
          }
        },
        {
          "id": "joint_partner_section",
          "name": "Joint Partner",
          "repeatable": true,
          "min_instances": 0,
          "max_instances": 3,
          "fields": [
            {
              "id": "hasJointPartner",
              "type": "boolean",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/label[2]/input[1]"
            }
          ],
          "repeatable_fields": {
            "id_prefix": "jointPartner",
            "search_by_customer_id": true,
            "fields": [
              {
                "id": "customerId",
                "type": "text",
                "strategy": "id",
                "xpath": "//*[@id=\"customerId\"]",
                "description": "Existing TECU member ID for joint partner"
              },
              {
                "id": "jointPartnerRelation",
                "type": "dropdown",
                "options": ["Brother", "Son", "Daughter", "Spouse", "Parent"]
              },
              {
                "id": "jointPartnerDocumentType",
                "type": "radio",
                "options": ["JOINT-PARTNER-NIC", "JOINT-PARTNER-DP", "JOINT-PARTNER-PASSPORT"]
              },
              {
                "id": "jp-upload-input",
                "type": "file",
                "strategy": "id",
                "xpath": "//*[@id=\"jp-upload-input\"]"
              }
            ]
          }
        },
        {
          "id": "lincu_card",
          "name": "LinCU Card Application",
          "fields": [
            {
              "id": "isApplyingForLincuCardApplication",
              "type": "boolean",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[3]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[3]/div[1]/div[1]/label[2]/input[1]"
            }
          ]
        },
        {
          "id": "fip_application",
          "name": "FIP Application",
          "fields": [
            {
              "id": "isApplyingForFipApplication",
              "type": "boolean",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[1]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[4]/div[1]/div[1]/div[1]/label[2]/input[1]",
              "triggers_section_when_true": "fip_details"
            }
          ],
          "conditional_fields": {
            "fip_details": [
              {
                "id": "fipPlan",
                "type": "dropdown",
                "options": [
                  {"value": "Plan A", "xpath": "//*[@data-testid=\"option-0\"]"},
                  {"value": "Plan B", "xpath": "//*[@data-testid=\"option-1\"]"},
                  {"value": "Plan C", "xpath": "//*[@data-testid=\"option-2\"]"}
                ]
              },
              {
                "id": "deductionTypeDesc",
                "type": "checkbox",
                "strategy": "name",
                "xpath": "//input[@name=\"deductionTypeDesc\"]"
              }
            ]
          }
        },
        {
          "id": "recommender",
          "name": "Recommender",
          "fields": [
            {
              "id": "hasRecommender",
              "type": "boolean",
              "xpath_true": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[5]/div[1]/div[1]/div[1]/label[1]/input[1]",
              "xpath_false": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[1]/div[5]/div[1]/div[1]/div[1]/label[2]/input[1]"
            }
          ]
        },
        {
          "id": "group_health",
          "name": "Group Health Insurance",
          "fields": [
            {
              "id": "groupHealth",
              "type": "checkbox",
              "strategy": "name",
              "xpath": "//input[@name=\"groupHealth\"]",
              "triggers_section_when_true": "health_details"
            },
            {
              "id": "isSpouseCoveredByOtherPlan",
              "type": "boolean",
              "conditional": {"when": "groupHealth", "equals": true}
            },
            {
              "id": "planName",
              "type": "text",
              "conditional": {"when": "isSpouseCoveredByOtherPlan", "equals": true},
              "strategy": "id",
              "xpath": "//*[@id=\"planName\"]"
            },
            {
              "id": "insuranceCompany",
              "type": "text",
              "conditional": {"when": "isSpouseCoveredByOtherPlan", "equals": true},
              "strategy": "id",
              "xpath": "//*[@id=\"insuranceCompany\"]"
            }
          ]
        },
        {
          "id": "bank_details",
          "name": "Bank Account Details",
          "fields": [
            {
              "id": "bank",
              "type": "dropdown",
              "xpath_trigger": "//*[@data-testid=\"dropdown-button\" and contains(., \"Select Bank\")]",
              "options": [
                {"value": "FIRST CITIZENS BANK", "xpath": "//*[@data-testid=\"option-0\"]"},
                {"value": "REPUBLIC BANK", "xpath": "//*[@data-testid=\"option-1\"]"},
                {"value": "SCOTIABANK", "xpath": "//*[@data-testid=\"option-2\"]"}
              ]
            },
            {
              "id": "branchName",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"branchName\"]"
            },
            {
              "id": "accountNo",
              "type": "text",
              "strategy": "id",
              "xpath": "//*[@id=\"accountNo\"]"
            },
            {
              "id": "accountType",
              "type": "boolean",
              "description": "Savings (true) or Chequing (false)"
            }
          ]
        },
        {
          "id": "dependents",
          "name": "Dependents",
          "repeatable": true,
          "min_instances": 0,
          "max_instances": 10,
          "fields": [
            {
              "id": "addDependent",
              "type": "boolean"
            }
          ],
          "repeatable_fields": {
            "id_prefix": "dependent",
            "index_suffix": true,
            "fields": [
              {
                "id": "dependent-{n}-isTecuMember",
                "type": "boolean"
              },
              {
                "id": "dependent-{n}-documentType",
                "type": "dropdown",
                "options": ["Passport", "NIC", "Birth Certificate"]
              },
              {
                "id": "dependent-{n}-upload",
                "type": "file",
                "xpath_pattern": "//*[@id=\"dependent-{n}-upload\"]"
              }
            ]
          }
        }
      ]
    },

    {
      "id": "pep_fatca",
      "name": "PEP / FATCA",
      "group": "PEP / FATCA",
      "order": 5,
      "description": "Politically Exposed Person and Foreign Account Tax Compliance declarations",
      "sections": [
        {
          "id": "pep_declarations",
          "name": "PEP Declarations",
          "all_boolean": true,
          "fields": [
            {"id": "isHeadOfState", "type": "boolean", "default": false},
            {"id": "isHeadOfGovt", "type": "boolean", "default": false},
            {"id": "isSenPolitician", "type": "boolean", "default": false},
            {"id": "isSenGovtOfficial", "type": "boolean", "default": false},
            {"id": "isSenJudicialOfficial", "type": "boolean", "default": false},
            {"id": "isSenMilitaryOfficial", "type": "boolean", "default": false},
            {"id": "isSenExecSOC", "type": "boolean", "default": false},
            {"id": "isImpPPO", "type": "boolean", "default": false},
            {"id": "isImmediateFamily", "type": "boolean", "default": false},
            {"id": "isMemberOfSeniorManagement", "type": "boolean", "default": false},
            {"id": "isPepAssociate", "type": "boolean", "default": false}
          ],
          "note": "If any PEP field is true, additional documentation may be required"
        },
        {
          "id": "fatca_declarations",
          "name": "FATCA Declarations",
          "all_boolean": true,
          "fields": [
            {"id": "isCitizenOfOtherCountry", "type": "boolean", "default": false},
            {"id": "isGreenCardHolder", "type": "boolean", "default": false},
            {"id": "isGranteePOA", "type": "boolean", "default": false},
            {"id": "hasStandingInstructIncome", "type": "boolean", "default": false},
            {"id": "isDisclosureTaxResidency", "type": "boolean", "default": false}
          ]
        }
      ]
    },

    {
      "id": "pdf_other_details",
      "name": "PDF / Other Details",
      "group": "PDF / Other Details",
      "order": 6,
      "sections": [
        {
          "id": "pdf_review",
          "name": "PDF Review",
          "fields": [
            {
              "id": "viewPdf",
              "type": "button",
              "multiple_instances": 7,
              "xpath_pattern": "/html/body/div[1]/div[1]/div[1]/div[2]/div[2]/div[1]/div[1]/div[1]/div[{n}]/button[1]"
            }
          ]
        },
        {
          "id": "additional_documents",
          "name": "Additional Documents",
          "fields": [
            {
              "id": "jobLetter",
              "type": "file",
              "strategy": "id",
              "xpath": "//*[@id=\"1.-job-letter-(less-than-3-months-old)\"]",
              "description": "Job letter less than 3 months old"
            },
            {
              "id": "paySlip",
              "type": "file",
              "strategy": "id",
              "xpath": "//*[@id=\"2.-pay-slip-(less-than-1-month-old)\"]",
              "description": "Pay slip less than 1 month old"
            }
          ]
        },
        {
          "id": "final_submission",
          "name": "Final Submission",
          "fields": [
            {
              "id": "submit",
              "type": "button",
              "strategy": "data-testid",
              "xpath": "//*[@data-testid=\"button\"]"
            }
          ]
        },
        {
          "id": "final_otp",
          "name": "Final OTP Verification",
          "fields": [
            {
              "id": "finalOtpInputs",
              "type": "otp",
              "length": 6,
              "xpath_pattern": "//*[@id=\"otp-input-{index}\"]"
            },
            {
              "id": "finalVerifyOtp",
              "type": "button",
              "strategy": "data-testid",
              "xpath": "//*[@data-testid=\"submit-button\"]"
            }
          ]
        }
      ]
    }
  ],

  "global_rules": {
    "otp_default_value": "121212",
    "country_default": "TRINIDAD AND TOBAGO",
    "file_upload_defaults": {
      "passport": "AVINASH_PASS.png",
      "nic_front": "DAVID_N_F.png",
      "nic_back": "DAVID_N_B.png",
      "utility": "FlowBill.jpg"
    }
  }
}
